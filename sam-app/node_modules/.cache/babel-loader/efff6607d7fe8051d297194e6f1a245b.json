{"ast":null,"code":"import _slicedToArray from \"/Users/jaume/Documents/sam/sam-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jaume/Documents/sam/sam-app/src/components/RegisterStudent/index.js\";\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Feedback from \"../Feedback\";\nimport logic from \"../../logic\";\nimport { Link } from \"react-router-dom\";\n\nfunction RegisterStudent({\n  history\n}) {\n  const _useState = useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        result = _useState2[0],\n        setResult = _useState2[1]; // encén feedback panel\n\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const _event$target = event.target,\n          name = _event$target.name.value,\n          surname = _event$target.surname.value,\n          birthdate = _event$target.birthdate.value,\n          healthcard = _event$target.healthcard.value;\n    handleRegister(name, surname, birthdate, healthcard);\n  }\n\n  async function handleRegister(name, surname, birthdate, healthcard) {\n    try {\n      await logic.registerStudent(name, surname, birthdate, healthcard);\n      history.push(\"/process-success\");\n    } catch (_ref) {\n      let message = _ref.message;\n      setResult(logic.translateMessage(message));\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"form-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"home-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Formulari de registre\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    className: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    className: \"fieldset__legend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Registra un nou usuari\"), React.createElement(\"section\", {\n    className: \"fieldset__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Nom\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"text\",\n    name: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Cognoms\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"text\",\n    name: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"birthdate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Data de naixement\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"text\",\n    name: \"birthdate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"healthcard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Targeta sanit\\xE0ria\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"text\",\n    name: \"healthcard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn btn--submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Registra\")))), result && React.createElement(Feedback, {\n    message: result,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Link, {\n    className: \"btn btn--link\",\n    to: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Torna\"));\n}\n\nexport default withRouter(RegisterStudent);","map":{"version":3,"sources":["/Users/jaume/Documents/sam/sam-app/src/components/RegisterStudent/index.js"],"names":["React","useState","withRouter","Feedback","logic","Link","RegisterStudent","history","undefined","result","setResult","handleSubmit","event","preventDefault","target","name","value","surname","birthdate","healthcard","handleRegister","registerStudent","push","message","translateMessage"],"mappings":"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","sourcesContent":["import React , { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport Feedback from \"../Feedback\"\n\nimport logic from \"../../logic\"\n\nimport { Link } from \"react-router-dom\"\n\nfunction RegisterStudent({ history }){\n    \n    const [result , setResult] = useState(undefined) // encén feedback panel\n    \n    function handleSubmit(event){\n        event.preventDefault()\n        const { target : { name : { value : name } , surname : { value : surname } , birthdate : { value : birthdate } , healthcard : { value : healthcard } } } = event\n        handleRegister(name , surname , birthdate , healthcard)\n    }\n\n    async function handleRegister(name , surname , birthdate , healthcard){\n        try{\n            await logic.registerStudent(name , surname , birthdate , healthcard)\n            history.push(\"/process-success\")\n        }catch({ message }){\n            setResult(logic.translateMessage(message))\n        }\n    }\n\n    return  <div className=\"form-wrapper\">\n                <h1 className=\"home-header\">Formulari de registre</h1>\n                \n                    <form onSubmit={handleSubmit} className=\"form\">\n                        <fieldset className=\"fieldset\">\n                            <legend className=\"fieldset__legend\">\n                            Registra un nou usuari\n                            </legend>\n                            <section className=\"fieldset__body\">\n                                <div className=\"input-block\">\n                                    <label className=\"input-block__label\" htmlFor=\"name\">Nom</label>\n                                        <input className=\"input-block__input\" type=\"text\" name=\"name\" />\n                                </div>\n                                <div className=\"input-block\">\n                                    <label className=\"input-block__label\" htmlFor=\"surname\">Cognoms</label>\n                                        <input className=\"input-block__input\" type=\"text\" name=\"surname\" />\n                                </div>\n                                <div className=\"input-block\">\n                                    <label className=\"input-block__label\" htmlFor=\"birthdate\">Data de naixement</label>\n                                        <input className=\"input-block__input\" type=\"text\" name=\"birthdate\" />\n                                </div>\n                                <div className=\"input-block\">\n                                    <label className=\"input-block__label\" htmlFor=\"healthcard\">Targeta sanitària</label>\n                                        <input className=\"input-block__input\" type=\"text\" name=\"healthcard\" />\n                                </div>\n                                <button className=\"btn btn--submit\">Registra</button>\n                            </section>\n                        </fieldset>\n                    </form>\n                   \n                {result && <Feedback message={result}/>}\n                <Link className=\"btn btn--link\" to=\"/home\">Torna</Link>\n            </div>\n}\n\nexport default withRouter(RegisterStudent)\n    \n              \n"]},"metadata":{},"sourceType":"module"}