{"ast":null,"code":"import utils from 'utils';\nconst validate = utils.validate;\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL;\n/**\n * Retrieves all students by tutor id.\n * \n * @param {string} email \n * @param {string} password \n * \n * @returns {Promise}\n */\n\nexport default function (email, password) {\n  validate.string(email, 'email');\n  validate.email(email, 'email');\n  validate.string(password, 'password');\n  return (async () => {\n    const headers = {\n      \"content-type\": \"application/json\"\n    };\n    const body = JSON.stringify({\n      email,\n      password\n    });\n    const response = await fetch(\"\".concat(REACT_APP_API_URL, \"/tutors/auth\"), {\n      method: 'POST',\n      headers: headers,\n      body: body\n    });\n\n    if (response.status !== 200) {\n      const _ref = await response.json(),\n            error = _ref.error;\n\n      throw Error(error);\n    } else {\n      const _ref2 = await response.json(),\n            token = _ref2.token;\n\n      this.__token__ = token;\n    }\n  })();\n}","map":{"version":3,"sources":["/Users/jaume/Documents/sam/sam-app/src/logic/authenticate-tutor/index.js"],"names":["utils","validate","REACT_APP_API_URL","process","env","email","password","string","headers","body","JSON","stringify","response","fetch","method","status","json","error","Error","token","__token__"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;MAEQC,Q,GAAaD,K,CAAbC,Q;AACR,MAAMC,iBAAiB,GAAGC,OAAO,CAACC,GAAR,CAAYF,iBAAtC;AAEA;;;;;;;;;AASA,eAAe,UAAUG,KAAV,EAAiBC,QAAjB,EAA2B;AACtCL,EAAAA,QAAQ,CAACM,MAAT,CAAgBF,KAAhB,EAAuB,OAAvB;AACAJ,EAAAA,QAAQ,CAACI,KAAT,CAAeA,KAAf,EAAsB,OAAtB;AACAJ,EAAAA,QAAQ,CAACM,MAAT,CAAgBD,QAAhB,EAA0B,UAA1B;AAEA,SAAO,CAAC,YAAY;AAEhB,UAAME,OAAO,GAAG;AAAE,sBAAiB;AAAnB,KAAhB;AACA,UAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEN,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAf,CAAb;AAEA,UAAMM,QAAQ,GAAG,MAAMC,KAAK,WAAIX,iBAAJ,mBAAqC;AAC7DY,MAAAA,MAAM,EAAE,MADqD;AAE7DN,MAAAA,OAAO,EAAEA,OAFoD;AAG7DC,MAAAA,IAAI,EAAEA;AAHuD,KAArC,CAA5B;;AAMA,QAAIG,QAAQ,CAACG,MAAT,KAAoB,GAAxB,EAA6B;AAAA,mBACP,MAAMH,QAAQ,CAACI,IAAT,EADC;AAAA,YACjBC,KADiB,QACjBA,KADiB;;AAEzB,YAAMC,KAAK,CAACD,KAAD,CAAX;AACH,KAHD,MAIK;AAAA,oBACiB,MAAML,QAAQ,CAACI,IAAT,EADvB;AAAA,YACOG,KADP,SACOA,KADP;;AAED,WAAKC,SAAL,GAAkBD,KAAlB;AACH;AACJ,GAnBM,GAAP;AAoBH","sourcesContent":["import utils from 'utils'\n\nconst { validate } = utils\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\n/**\n * Retrieves all students by tutor id.\n * \n * @param {string} email \n * @param {string} password \n * \n * @returns {Promise}\n */\n\nexport default function (email, password) {\n    validate.string(email, 'email')\n    validate.email(email, 'email')\n    validate.string(password, 'password')\n\n    return (async () => {\n\n        const headers = { \"content-type\" : \"application/json\" }\n        const body = JSON.stringify({ email, password })\n\n        const response = await fetch(`${REACT_APP_API_URL}/tutors/auth`, {\n            method: 'POST',\n            headers: headers,\n            body: body\n        })\n        \n        if (response.status !== 200) {\n            const { error } = await response.json()\n            throw Error(error)\n        } \n        else {\n            const { token } = await response.json()\n            this.__token__ = (token)   \n        }   \n    })()\n}"]},"metadata":{},"sourceType":"module"}