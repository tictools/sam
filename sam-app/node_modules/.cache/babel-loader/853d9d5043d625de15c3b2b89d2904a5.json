{"ast":null,"code":"import _slicedToArray from \"/Users/jaume/Documents/sam/sam-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jaume/Documents/sam/sam-app/src/components/Login/index.js\";\nimport React, { useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Feedback from '../Feedback';\nimport logic from '../../logic';\nimport './index.sass';\n\nfunction Login({\n  history\n}) {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        setError = _useState2[1];\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const _event$target = event.target,\n          email = _event$target.email.value,\n          password = _event$target.password.value;\n    handleLogin(email, password);\n  }\n\n  async function handleLogin(email, password) {\n    try {\n      await logic.authenticateTutor(email, password);\n      history.push('/home');\n    } catch (_ref) {\n      let message = _ref.message;\n      let translatedMessage = logic.translateMessage(message, email);\n      setError(translatedMessage);\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"form-wrapper form-wrapper--login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form form__register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    className: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    className: \"fieldset__legend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Dades d'acc\\xE9s\"), React.createElement(\"section\", {\n    className: \"fieldset__body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Correu electr\\xF2nic\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"text\",\n    name: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"input-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"input-block__label\",\n    htmlFor: \"password\",\n    autoComplete: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Contrassenya\"), React.createElement(\"input\", {\n    className: \"input-block__input\",\n    type: \"password\",\n    name: \"password\",\n    autoComplete: \"current-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    className: \"btn btn--submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Accedeix\")))), error && React.createElement(Feedback, {\n    message: error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Link, {\n    className: \"btn btn--link\",\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Torna\"));\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/Users/jaume/Documents/sam/sam-app/src/components/Login/index.js"],"names":["React","useState","Link","withRouter","Feedback","logic","Login","history","error","setError","handleSubmit","event","preventDefault","target","email","value","password","handleLogin","authenticateTutor","push","message","translatedMessage","translateMessage"],"mappings":"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","sourcesContent":["import React , { useState } from 'react'\nimport { Link , withRouter } from 'react-router-dom'\nimport Feedback from '../Feedback'\nimport logic from '../../logic'\nimport './index.sass'\n\n\nfunction Login({ history }){\n    const  [error, setError]  = useState()\n\n    function handleSubmit(event){\n        event.preventDefault()\n        const { target : { email : { value : email } , password : { value : password } } } = event\n        handleLogin(email , password)\n    }\n\n    async function handleLogin(email , password){\n        try{\n            await logic.authenticateTutor(email , password)\n            history.push('/home')\n        }\n        catch({ message }){\n            let translatedMessage = logic.translateMessage(message , email)\n            setError(translatedMessage)\n        }\n    }\n\n    return  <div className=\"form-wrapper form-wrapper--login\">\n                <form onSubmit = {handleSubmit} className=\"form form__register\">\n                    <fieldset className=\"fieldset\">\n                        <legend className=\"fieldset__legend\">\n                            Dades d'accés\n                        </legend>\n                        <section className=\"fieldset__body\">\n                            <div className=\"input-block\">\n                                <label className=\"input-block__label\" htmlFor=\"email\">Correu electrònic</label>\n                                    <input className=\"input-block__input\" type=\"text\" name=\"email\"  />\n                            </div>\n                            <div className=\"input-block\">\n                                <label className=\"input-block__label\" htmlFor=\"password\" autoComplete=\"username\">Contrassenya</label>\n                                    <input className=\"input-block__input\" type=\"password\" name=\"password\" autoComplete=\"current-password\"  />\n                            </div>\n                        <button className=\"btn btn--submit\">Accedeix</button>\n                        </section>\n                    </fieldset>\n                </form>\n                {error && <Feedback message ={error}/>}\n                <Link className=\"btn btn--link\" to=\"/\">Torna</Link>\n\n            </div>\n}\n\nexport default withRouter(Login)\n"]},"metadata":{},"sourceType":"module"}