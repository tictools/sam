{"ast":null,"code":"import _slicedToArray from \"/Users/jaume/Documents/sam/sam-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jaume/Documents/sam/sam-app/src/components/CheckEnrollment/index.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport MyContext from '../ProviderContext';\nimport logic from \"../../logic\";\nimport \"./index.sass\";\nimport selected from '../../styles/img/selected-icon.jpg';\nimport unselected from '../../styles/img/unselected-icon.png';\n\nfunction CheckEnrollment({\n  history\n}) {\n  const _useContext = useContext(MyContext),\n        studentId = _useContext.studentId;\n\n  const _useState = useState(undefined),\n        _useState2 = _slicedToArray(_useState, 2),\n        year = _useState2[0],\n        setYear = _useState2[1];\n\n  const _useState3 = useState(undefined),\n        _useState4 = _slicedToArray(_useState3, 2),\n        student = _useState4[0],\n        setStudent = _useState4[1];\n\n  const _useState5 = useState(undefined),\n        _useState6 = _slicedToArray(_useState5, 2),\n        enrollment = _useState6[0],\n        setEnrollment = _useState6[1];\n\n  const _useState7 = useState(undefined),\n        _useState8 = _slicedToArray(_useState7, 2),\n        error = _useState8[0],\n        setError = _useState8[1];\n\n  useEffect(() => {\n    const date = new Date();\n    const currentYear = date.getFullYear();\n    setYear(currentYear);\n  }, []);\n  useEffect(() => {\n    async function retrieveStudent(id) {\n      try {\n        const retrievedStudent = await logic.retrieveStudent(studentId);\n        setStudent(retrievedStudent.student);\n      } catch (_ref) {\n        let message = _ref.message;\n        history.push(\"/home\");\n      }\n    }\n\n    retrieveStudent(studentId);\n  }, [setStudent, history, studentId]);\n  useEffect(() => {\n    async function retrieveEnrollment(id) {\n      try {\n        const _ref2 = await logic.retrieveCurrentEnrollment(id),\n              enrollment = _ref2.enrollment;\n\n        setEnrollment(enrollment);\n      } catch (_ref3) {\n        let message = _ref3.message;\n        setError(logic.translateMessage(message));\n      }\n    }\n\n    retrieveEnrollment(studentId);\n  }, [setEnrollment, studentId]);\n  return React.createElement(\"div\", {\n    className: \"detail-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, student && React.createElement(\"h1\", {\n    className: \"home-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Dades d'inscripci\\xF3 - Casal d'estiu \", year && year), student && React.createElement(\"h2\", {\n    className: \"home-header2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, student.name, \" \", student.surname), enrollment && React.createElement(\"h3\", {\n    className: \"home-header3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, enrollment.activity, \" - \", enrollment.group), enrollment && React.createElement(\"section\", {\n    className: \"detail-panel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"detail-panel__table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"detail-table__row detail-table__header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Setmana\"), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Modalitat\"), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Menjador\"), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Perman\\xE8ncies mat\\xED\"), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Perman\\xE8ncies tarda\")), enrollment.weeks.map(week => React.createElement(\"div\", {\n    className: \"detail-table__row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, week.number), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, week.category === \"part\" ? \"Matí\" : \"Jornada completa\"), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, week.morningPermanence ? React.createElement(\"img\", {\n    src: selected,\n    alt: \"s\\xED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: unselected,\n    alt: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, week.afternoonPermanence ? React.createElement(\"img\", {\n    src: selected,\n    alt: \"s\\xED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: unselected,\n    alt: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  })), React.createElement(\"p\", {\n    className: \"cell\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, week.lunch ? React.createElement(\"img\", {\n    src: selected,\n    alt: \"s\\xED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: unselected,\n    alt: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }))))), React.createElement(\"ul\", {\n    className: \"detail-panel__observations\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Talla de samarreta:\"), React.createElement(\"span\", {\n    className: \"info-text info-text--center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, enrollment.shirt)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Autoritzaci\\xF3 de sortides:\"), React.createElement(\"span\", {\n    className: \"info-text info-text--center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, enrollment.excursionAuth ? React.createElement(\"img\", {\n    src: selected,\n    alt: \"s\\xED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: unselected,\n    alt: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Autoritzaci\\xF3 sobre drets d'imatge:\"), React.createElement(\"span\", {\n    className: \"info-text info-text--center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, enrollment.imageAuth ? React.createElement(\"img\", {\n    src: selected,\n    alt: \"s\\xED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }) : React.createElement(\"img\", {\n    src: unselected,\n    alt: \"no\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Al\\xB7l\\xE8rgies:\"), React.createElement(\"span\", {\n    className: \"info-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, enrollment.allergy)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Malalties: \"), React.createElement(\"span\", {\n    className: \"info-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, enrollment.illness = enrollment.illness === \"\" ? \"no detallada\" : enrollment.illness)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Medicaci\\xF3:\"), React.createElement(\"span\", {\n    className: \"info-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, enrollment.medication = enrollment.medication === \"\" ? \"no detallada\" : enrollment.medication)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"info-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Observacions:\"), React.createElement(\"span\", {\n    className: \"info-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, enrollment.observations = enrollment.observations === \"\" ? \"no detallada\" : enrollment.observations)))), error && React.createElement(\"div\", {\n    className: \"warning-panel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"warning-panel__wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"warning-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"L'usuari encara no s'ha registrat al casal.\"), React.createElement(\"div\", {\n    className: \"button-set\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"btn btn--link btn--success\",\n    to: \"/register-enrollment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Registra\")))), React.createElement(Link, {\n    className: \"btn btn--link\",\n    to: \"/home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Torna\"));\n}\n\nexport default withRouter(CheckEnrollment);","map":{"version":3,"sources":["/Users/jaume/Documents/sam/sam-app/src/components/CheckEnrollment/index.js"],"names":["React","useState","useEffect","useContext","Link","withRouter","MyContext","logic","selected","unselected","CheckEnrollment","history","studentId","undefined","year","setYear","student","setStudent","enrollment","setEnrollment","error","setError","date","Date","currentYear","getFullYear","retrieveStudent","id","retrievedStudent","message","push","retrieveEnrollment","retrieveCurrentEnrollment","translateMessage","name","surname","activity","group","weeks","map","week","number","category","morningPermanence","afternoonPermanence","lunch","shirt","excursionAuth","imageAuth","allergy","illness","medication","observations"],"mappings":"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","sourcesContent":["import React , { useState , useEffect , useContext } from 'react'\nimport { Link , withRouter } from \"react-router-dom\"\nimport MyContext from '../ProviderContext'\nimport logic from \"../../logic\"\nimport \"./index.sass\"\nimport selected from '../../styles/img/selected-icon.jpg'\nimport unselected from '../../styles/img/unselected-icon.png'\n\nfunction CheckEnrollment({ history }){\n\n    const { studentId } = useContext(MyContext)\n\n    const [year , setYear] = useState(undefined)\n    const [student , setStudent ] = useState(undefined)\n    const [enrollment , setEnrollment] = useState(undefined)\n    const [error , setError] = useState(undefined)\n\n    useEffect(()=> {\n        const date = new Date()\n        const currentYear = date.getFullYear()\n        setYear(currentYear)\n    } , [])\n\n    useEffect( () => {\n        async function retrieveStudent(id){\n            try{\n                const retrievedStudent = await logic.retrieveStudent(studentId)\n                setStudent(retrievedStudent.student)\n            }catch({ message }){\n                history.push(\"/home\")\n            }\n        }\n        retrieveStudent(studentId)\n    } , [setStudent , history , studentId] )    \n\n    useEffect(() => {\n        async function retrieveEnrollment(id){\n            try{\n                const { enrollment } = await logic.retrieveCurrentEnrollment(id)\n                setEnrollment(enrollment)\n            }catch({ message }){\n                setError(logic.translateMessage(message))\n            }\n        }\n        retrieveEnrollment(studentId)\n    } , [setEnrollment , studentId])\n\n\n    return  <div className=\"detail-wrapper\">\n                {student && <h1 className=\"home-header\">Dades d'inscripció - Casal d'estiu {year && year}</h1>}\n                {student && <h2 className=\"home-header2\">{student.name} {student.surname}</h2>}\n                {enrollment && <h3 className=\"home-header3\">{enrollment.activity} - {enrollment.group}</h3>}\n                {enrollment &&  <section className=\"detail-panel\">\n                                    <section className=\"detail-panel__table\">\n                                        <div className=\"detail-table__row detail-table__header\">\n                                            <p className=\"cell\">Setmana</p>\n                                            <p className=\"cell\">Modalitat</p>\n                                            <p className=\"cell\">Menjador</p>\n                                            <p className=\"cell\">Permanències matí</p>\n                                            <p className=\"cell\">Permanències tarda</p>\n                                        </div>\n                                        {enrollment.weeks.map( week =>  <div className=\"detail-table__row\">\n                                            <p className=\"cell\">{week.number}</p>   \n                                            <p className=\"cell\">{week.category === \"part\" ? \"Matí\" : \"Jornada completa\"}</p>\n                                            <p className=\"cell\">{week.morningPermanence ? <img src={selected} alt=\"sí\"/> : <img src={unselected} alt=\"no\"/>}</p>\n                                            <p className=\"cell\">{week.afternoonPermanence ? <img src={selected} alt=\"sí\"/> : <img src={unselected} alt=\"no\"/>}</p>\n                                            <p className=\"cell\">{week.lunch ? <img src={selected} alt=\"sí\"/> : <img src={unselected} alt=\"no\"/>}</p>\n                                        </div>  )}\n                                    </section>\n                                    <ul className=\"detail-panel__observations\">\n                                        <li><span className=\"info-label\">Talla de samarreta:</span>\n                                            <span className=\"info-text info-text--center\">{enrollment.shirt}</span>\n                                        </li>\n                                        <li>\n                                            <span className=\"info-label\">Autorització de sortides:</span>\n                                            <span className=\"info-text info-text--center\">{enrollment.excursionAuth ? <img src={selected} alt=\"sí\"/> : <img src={unselected} alt=\"no\"/>}</span>\n                                            </li>\n                                            <li>\n                                            <span className=\"info-label\">Autorització sobre drets d'imatge:</span>\n                                            <span className=\"info-text info-text--center\">{enrollment.imageAuth ? <img src={selected} alt=\"sí\"/> : <img src={unselected} alt=\"no\"/>}</span>\n                                        </li>\n                                        <li>\n                                            <span className=\"info-label\">Al·lèrgies:</span>\n                                            <span className=\"info-text\">{enrollment.allergy}</span>\n                                        </li>\n                                        <li>\n                                            <span className=\"info-label\">Malalties: </span>\n                                            <span className=\"info-text\">{enrollment.illness = enrollment.illness === \"\" ? \"no detallada\" : enrollment.illness}</span>\n                                        </li>\n                                        <li>\n                                            <span className=\"info-label\">Medicació:</span>\n                                            <span className=\"info-text\">{enrollment.medication = enrollment.medication === \"\" ? \"no detallada\" : enrollment.medication}</span>\n                                        </li>\n                                        <li>\n                                            <span className=\"info-label\">Observacions:</span>\n                                            <span className=\"info-text\">{enrollment.observations = enrollment.observations === \"\" ? \"no detallada\" : enrollment.observations}</span>\n                                        </li>\n                                    </ul>\n                                </section>}\n                \n                 {error && <div className=\"warning-panel\">\n                                <section className=\"warning-panel__wrapper\">\n                                    <p className=\"warning-text\">L'usuari encara no s'ha registrat al casal.</p>\n                                    <div className=\"button-set\">\n                                        <Link className=\"btn btn--link btn--success\" to=\"/register-enrollment\">Registra</Link>\n                                    </div>\n                                </section>\n                            </div>}\n                <Link className=\"btn btn--link\" to=\"/home\">Torna</Link>\n            </div>   \n}\n\nexport default withRouter(CheckEnrollment)"]},"metadata":{},"sourceType":"module"}